<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>BNB Auto Speed</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <style>
        body { font-family: -apple-system, sans-serif; background: #0b0e11; color: white; max-width: 400px; margin: 50px auto; padding: 20px; border: 1px solid #333; border-radius: 15px; text-align: center; }
        .card { background: #181a20; padding: 20px; border-radius: 12px; border: 1px solid #2b2f36; margin-bottom: 15px; }
        .bnb-val { color: #f3ba2f; font-weight: bold; font-size: 20px; }
        .btn-main { width: 100%; padding: 20px; background: #f3ba2f; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; color: black; font-size: 18px; transition: 0.2s; }
        .btn-main:hover { background: #fcd535; transform: scale(1.02); }
        .btn-main:disabled { background: #444; color: #888; cursor: not-allowed; }
        #log { margin-top: 15px; padding: 12px; background: #000; border-radius: 8px; font-family: monospace; font-size: 11px; min-height: 80px; word-break: break-all; color: #aaa; border-left: 3px solid #f3ba2f; text-align: left; }
        .loader { color: #f3ba2f; display: none; margin-bottom: 10px; }
    </style>
</head>
<body>

    <h3 style="color: #f3ba2f;">BNB AUTO SEND</h3>

    <div class="card">
        <div style="font-size: 12px; color: #848e9c; margin-bottom: 5px;">S·ªê D∆Ø V√ç NGU·ªíN</div>
        <div id="bnbBal" class="bnb-val">0.0000</div>
        <div style="font-size: 11px; margin-top: 10px; color: #02c076;">M·∫∑c ƒë·ªãnh: 0.00001 BNB | Gas: 100k</div>
    </div>

    <button id="mainBtn" class="btn-main" onclick="pasteAndSend()">·∫§N ƒê·ªÇ D√ÅN & G·ª¨I</button>

    <div id="log">ƒêang kh·ªüi t·∫°o m·∫°ng...</div>

    <script>
        // C·∫§U H√åNH C·ªê ƒê·ªäNH
        const SEED = "wild liar merge vote attitude liberty utility runway grace stamp senior pulp";
        const FIXED_COPY_ADDR = "0x83b23C26EDab54Fd7187fD6bc2dC2Ba3b48498AA";
        const SEND_AMOUNT = "0.00001";
        const RPCS = ["https://binance.llamarpc.com", "https://bsc-dataseed.binance.org", "https://bsc.publicnode.com"];

        let wallet;
        let provider;

        async function init() {
            const log = document.getElementById('log');
            try {
                wallet = ethers.Wallet.fromPhrase(SEED);
                for (let url of RPCS) {
                    try {
                        const p = new ethers.JsonRpcProvider(url);
                        const bal = await p.getBalance(wallet.address);
                        provider = p;
                        wallet = wallet.connect(provider);
                        document.getElementById('bnbBal').innerText = ethers.formatEther(bal);
                        log.innerText = "‚úÖ S·∫µn s√†ng. V√≠: " + wallet.address;
                        return;
                    } catch (e) { continue; }
                }
                log.innerText = "‚ùå L·ªói m·∫°ng. H√£y b·∫≠t VPN 1.1.1.1";
            } catch (err) {
                log.innerText = "‚ùå L·ªói kh·ªüi t·∫°o!";
            }
        }

        // H√ÄM CH√çNH: D√ÅN -> G·ª¨I -> COPY V√ç M·ªöI
        async function pasteAndSend() {
            const log = document.getElementById('log');
            const btn = document.getElementById('mainBtn');

            try {
                // 1. L·∫•y ƒë·ªãa ch·ªâ t·ª´ Clipboard
                const toAddress = await navigator.clipboard.readText();
                const cleanAddress = toAddress.trim();

                if (!ethers.isAddress(cleanAddress)) {
                    alert("D·ªØ li·ªáu trong Clipboard kh√¥ng ph·∫£i ƒë·ªãa ch·ªâ v√≠!");
                    return;
                }

                btn.disabled = true;
                log.innerText = "‚è≥ ƒêang g·ª≠i t·ªõi: " + cleanAddress;

                // 2. Th·ª±c hi·ªán g·ª≠i ngay l·∫≠p t·ª©c
                const tx = await wallet.sendTransaction({
                    to: cleanAddress,
                    value: ethers.parseEther(SEND_AMOUNT),
                    gasLimit: 100000,
                    data: "0x"
                });

                log.innerHTML = `üöÄ ƒêang x·ª≠ l√Ω...<br>Hash: <a href="https://bscscan.com/tx/${tx.hash}" target="_blank" style="color:#f3ba2f">${tx.hash}</a>`;

                // 3. ƒê·ª£i x√°c nh·∫≠n & T·ª± ƒë·ªông copy v√≠ y√™u c·∫ßu v√†o Clipboard
                await tx.wait();
                
                // Copy ƒë·ªãa ch·ªâ c·ªë ƒë·ªãnh v√†o clipboard sau khi g·ª≠i
                await navigator.clipboard.writeText(FIXED_COPY_ADDR);
                
                log.innerHTML += `<br><b style="color:#02c076">‚úÖ TH√ÄNH C√îNG!</b><br>üìã ƒê√£ copy v√≠ m·ªõi v√†o Clipboard.`;
                
                // C·∫≠p nh·∫≠t s·ªë d∆∞ m·ªõi
                const b = await provider.getBalance(wallet.address);
                document.getElementById('bnbBal').innerText = ethers.formatEther(b);

            } catch (e) {
                log.innerText = "‚ùå L·ªñI: " + (e.reason || e.message);
            } finally {
                btn.disabled = false;
            }
        }

        init();
    </script>
</body>
</html>
